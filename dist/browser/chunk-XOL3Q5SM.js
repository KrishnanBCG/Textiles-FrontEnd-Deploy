import{a as ge,f as fe,g as ve}from"./chunk-IFEE7RF4.js";import{a as ye}from"./chunk-MUOSKTGI.js";import"./chunk-RXRC2IAU.js";import{c as le,e as C,f as pe,g as ce,l as se,o as me,t as de,v as ue}from"./chunk-DO327FSU.js";import{A as R,B as z,G as O,Ga as ae,H as j,Z as q,aa as Q,ba as U,ca as W,fa as $,ga as J,ha as K,ia as X,la as Y,qa as Z,ra as ee,sa as te,ta as ie,ua as ne,va as oe,wa as re}from"./chunk-W7O4NI74.js";import"./chunk-RXWOWTKC.js";import{d as V,e as k,g as A,j as H,y as G,z as P}from"./chunk-H4Z643GT.js";import{Ac as n,Bc as d,Cc as N,Ec as I,Fc as L,Gc as M,Rb as c,Sb as i,Tb as e,Ub as m,Vc as B,Za as l,_b as T,cc as S,ic as h,ka as g,kb as F,la as f,lc as u,pb as w,pc as x,qc as b,rc as E,vb as v,vc as _}from"./chunk-G573C4CW.js";import{a as D}from"./chunk-AQY5CCQG.js";var Fe=["scrollableLongContentModal"],Se=["closeBtn"];function he(p,o){if(p&1){let t=S();i(0,"tr")(1,"th",21),n(2),e(),i(3,"td",21),n(4),e(),i(5,"td",21),n(6),e(),i(7,"td",21),n(8),e(),i(9,"td",21),n(10),e(),i(11,"td",21)(12,"button",22),h("click",function(){let r=g(t).$implicit,s=u(2);return s.openPopup("Edit"),f(s.callEdit(r))}),m(13,"i",23),e()()()}if(p&2){let t=o.$implicit,a=o.index,r=u(2),s=_(13);l(2),d((r.page-1)*r.pageSize+a+1),l(2),d(t.SpinFtyName),l(2),d(t.SpinningLocation),l(2),d(t.ContacDetails),l(2),d(t.LegalFtyName),l(2),c("cModalToggle",s.id)}}function _e(p,o){if(p&1){let t=S();i(0,"div",15)(1,"table",16)(2,"thead")(3,"tr")(4,"th",17),n(5,"#"),e(),i(6,"th",17),n(7,"Spinning Factory Name"),e(),i(8,"th",17),n(9,"Spinning Location"),e(),i(10,"th",17),n(11,"Contact Details"),e(),i(12,"th",17),n(13,"Legal Factory name"),e(),i(14,"th",17),n(15,"Action"),e()()(),i(16,"tbody"),v(17,he,14,6,"tr",18),e()(),i(18,"div",19)(19,"ngb-pagination",20),M("pageChange",function(r){g(t);let s=u();return L(s.page,r)||(s.page=r),f(r)}),e()()()}if(p&2){let t=u();l(),c("striped",!0),l(16),c("ngForOf",t.spinftyList.slice((t.page-1)*t.pageSize,t.page*t.pageSize)),l(2),I("page",t.page),c("pageSize",t.pageSize)("collectionSize",t.spinftyList.length)}}function xe(p,o){p&1&&(i(0,"div",24)(1,"c-card",25),m(2,"img",26),i(3,"c-card-body")(4,"h5",27),n(5,"No Data Found"),e(),i(6,"p",28),n(7," There are no spin fty records available at the moment. "),e()()()())}function be(p,o){p&1&&T(0)}function Ee(p,o){if(p&1&&(i(0,"div",29)(1,"div")(2,"c-input-group")(3,"span",30),n(4,"Spinning Factory Name"),e(),m(5,"input",31),e()(),i(6,"div")(7,"c-input-group")(8,"span",30),n(9,"spinning Location"),e(),m(10,"input",32),e()(),i(11,"div")(12,"c-input-group")(13,"span",30),n(14,"Contact Details"),e(),m(15,"input",33),e()(),i(16,"div")(17,"c-input-group")(18,"span",30),n(19,"Legal Factory Name"),e(),m(20,"input",34),e()()()),p&2){let t=u();c("formGroup",t.spinFtyForm)}}var y=class y{constructor(o,t,a){this.router=o;this.fb=t;this.api=a;this.page=1;this.pageSize=5;this.visible=!0;this.editTooltip="Edit";this.popupIdentity=0;this.spinftyList=[];this.profileList=[];this.filterSpinFty="";this.spinFtyForm=this.fb.group({spinFty:[null,[C.required]],location:[null,[C.required]],contact:[null,[C.required]],legalFtyName:[null,[C.required]]})}openPopup(o){o=="Add"?this.popupIdentity=1:this.popupIdentity=2}ngOnInit(){this.listSpinfty()}listSpinfty(){this.api.GetApi(`/mastersapi/spinFty-master-filter?spinFty=${this.filterSpinFty}`).subscribe(o=>{this.spinftyList=o.spinFty})}callEdit(o){this.editId=o.id,this.spinFtyForm.controls.spinFty.setValue(o.SpinFtyName),this.spinFtyForm.controls.location.setValue(o.SpinningLocation),this.spinFtyForm.controls.contact.setValue(o.ContacDetails),this.spinFtyForm.controls.legalFtyName.setValue(o.LegalFtyName)}saveUpdate(o){if(!this.spinFtyForm.invalid)if(o===1)this.api.PostApiWithHeader("/mastersapi/spinFty-master",this.spinFtyForm.value).subscribe(t=>{t.success===!0?(this.listSpinfty(),this.closeBtn.nativeElement.click(),this.spinFtyForm.reset(),this.api.showSuccess("saved Successfully !!! ","Saved")):this.api.showError("Not saved","Error")});else{let t=D({id:this.editId},this.spinFtyForm.value);this.api.PostApiWithHeader("/mastersapi/spinFty-master",t).subscribe(a=>{a.success===!0?(this.closeBtn.nativeElement.click(),this.spinFtyForm.reset(),this.listSpinfty(),this.api.showSuccess("Updated Successfully !!! ","Updated")):this.api.showError("Not Updated","Error")})}}};y.\u0275fac=function(t){return new(t||y)(F(G),F(de),F(ye))},y.\u0275cmp=w({type:y,selectors:[["app-spin-fty"]],viewQuery:function(t,a){if(t&1&&(x(Fe,5),x(Se,5)),t&2){let r;b(r=E())&&(a.scrollableLongContentModal=r.first),b(r=E())&&(a.closeBtn=r.first)}},decls:28,vars:8,consts:[["scrollableLongContentModal",""],["closeBtn",""],["longContent",""],["fluid",""],[3,"routerLink"],[1,"ms-auto"],["cButton","","color","primary","variant","outline",3,"click","cModalToggle"],["style","overflow-x: auto; width: 100%;",4,"ngIf"],["class","d-flex justify-content-center align-items-center","style","height: 100vh; width: 100%;",4,"ngIf"],["backdrop","static","id","scrollableLongContentModal","scrollable",""],["cModalTitle",""],["cButtonClose","",3,"cModalToggle"],[4,"ngTemplateOutlet"],["cButton","","color","secondary",3,"cModalToggle"],["cButton","","color","primary",3,"click"],[2,"overflow-x","auto","width","100%"],["bordered","","cTable","",1,"table","table-hover",3,"striped"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center"],[3,"pageChange","page","pageSize","collectionSize"],["scope","row",1,"text-center"],[1,"btn","btn-sm","btn-outline-primary",3,"click","cModalToggle"],[1,"cil-pencil"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh","width","100%"],[2,"max-width","400px","text-align","center"],["cCardImg","top","src","../../../../assets/No data-amico.svg","alt","No Data"],["cCardTitle",""],["cCardText",""],[2,"display","flex","flex-direction","column","gap","5vh",3,"formGroup"],["cInputGroupText",""],["aria-label","Spinning Factory Name","cFormControl","","formControlName","spinFty"],["aria-label","spinning Location","cFormControl","","formControlName","location"],["aria-label","Contact Details","cFormControl","","formControlName","contact"],["aria-label","Legal Factory Name","cFormControl","","formControlName","legalFtyName"]],template:function(t,a){if(t&1){let r=S();i(0,"c-header")(1,"c-container",3)(2,"c-header-brand",4),n(3,"SpinFty Master"),e(),i(4,"c-header-nav",5)(5,"c-nav-item")(6,"button",6),h("click",function(){return g(r),f(a.openPopup("Add"))}),n(7,"Add SpinFty"),e()()()(),m(8,"c-header-divider"),i(9,"c-container",3),v(10,_e,20,5,"div",7)(11,xe,8,0,"div",8),e()(),i(12,"c-modal",9,0)(14,"c-modal-header")(15,"h5",10),n(16),e(),m(17,"button",11,1),e(),i(19,"c-modal-body"),v(20,be,1,0,"ng-container",12),e(),i(21,"c-modal-footer")(22,"button",13),n(23," Close "),e(),i(24,"button",14),h("click",function(){return g(r),f(a.saveUpdate(a.popupIdentity))}),n(25),e()()(),v(26,Ee,21,1,"ng-template",null,2,B)}if(t&2){let r=_(13),s=_(27);l(6),c("cModalToggle",r.id),l(4),c("ngIf",((a.spinftyList==null?null:a.spinftyList.length)||0)>0),l(),c("ngIf",((a.spinftyList==null?null:a.spinftyList.length)||0)===0),l(5),N(" ",a.popupIdentity==1?"Add New SpinFty":"Edit SpinFty"),l(),c("cModalToggle",r.id),l(3),c("ngTemplateOutlet",s),l(2),c("cModalToggle",r.id),l(3),d(a.popupIdentity==1?"Save changes":"Update changes")}},dependencies:[Y,$,J,K,X,P,W,Z,R,j,O,ae,z,ee,re,ie,ne,oe,te,A,ue,le,pe,ce,se,me,Q,U,q,H,V,k,ve,fe,ge],encapsulation:2});var Ce=y;export{Ce as SpinFtyComponent};
