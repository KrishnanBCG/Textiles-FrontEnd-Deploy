import{a as te}from"./chunk-BAEGWPX3.js";import"./chunk-VQHYYTZD.js";import{b as Q,c as X,d as Z,f as ee}from"./chunk-IFEE7RF4.js";import{a as q}from"./chunk-MUOSKTGI.js";import"./chunk-RXRC2IAU.js";import{t as J}from"./chunk-DO327FSU.js";import{A as F,G as V,Ga as W,H as L,Ha as U,L as z,M as P,N as j,ca as G,fa as A,ga as O,ha as H,ia as M,qa as $}from"./chunk-W7O4NI74.js";import"./chunk-RXWOWTKC.js";import{d as N,e as R,i as Y,y as k,z as B}from"./chunk-H4Z643GT.js";import{Ac as n,Bc as D,Cc as p,Ec as I,Fc as K,Gc as T,Rb as m,Sb as t,Sc as d,Tb as i,Ub as _,Uc as s,Za as a,cc as E,ic as y,ka as f,kb as S,la as v,lc as b,pb as w,vb as x,vc as C}from"./chunk-G573C4CW.js";import"./chunk-AQY5CCQG.js";function ne(u,r){if(u&1&&(t(0,"tr")(1,"th",19),n(2),i(),t(3,"td",20),n(4),i(),t(5,"td",20),n(6),i(),t(7,"td",20),n(8),i(),t(9,"td",20),n(10),i(),t(11,"td",20),n(12),i(),t(13,"td",20),n(14),d(15,"number"),i(),t(16,"td",20),n(17),d(18,"number"),i(),t(19,"td",20),n(20),d(21,"number"),i(),t(22,"td",20),n(23),d(24,"number"),i(),t(25,"td",21),n(26),d(27,"number"),i(),t(28,"td",22),n(29),d(30,"number"),i(),t(31,"td",23),n(32),d(33,"number"),i()()),u&2){let e=r.$implicit,o=r.index,l=b(2);a(2),D((l.page-1)*l.pageSize+o+1),a(2),D((e==null?null:e.knitFty)||"-"),a(2),D((e==null?null:e.buyer)||"-"),a(2),D((e==null?null:e.orderNo)||"-"),a(2),D((e==null?null:e.style)||"-"),a(2),D((e==null?null:e.color)||"-"),a(2),p(" ",(e==null?null:e.greigeKg)!=null?s(15,13,e==null?null:e.greigeKg,"1.2-2"):"0.00"," "),a(3),p(" ",(e==null?null:e.allocatedYarnKgs)!=null?s(18,16,e==null?null:e.allocatedYarnKgs,"1.2-2"):"0.00"," "),a(3),p(" ",(e==null?null:e.receiptYarnKgs)!=null?s(21,19,e==null?null:e.receiptYarnKgs,"1.2-2"):"0.00"," "),a(3),p(" ",(e==null?null:e.Entry2)!=null?s(24,22,e==null?null:e.Entry2,"1.2-2"):"0.00"," "),a(3),p(" ",e.allocatedYarnKgs!=null&&e.greigeKg!=null?s(27,25,e.allocatedYarnKgs-e.greigeKg,"1.2-2"):"0.00"," "),a(3),p(" ",e.receiptYarnKgs!=null&&e.greigeKg!=null?s(30,28,e.receiptYarnKgs-e.greigeKg,"1.2-2"):"0.00"," "),a(3),p(" ",e.Entry2!=null&&e.greigeKg!=null?s(33,31,e.Entry2-e.greigeKg,"1.2-2"):"0.00"," ")}}function re(u,r){if(u&1){let e=E();t(0,"div",13)(1,"table",14)(2,"thead")(3,"tr")(4,"th"),n(5,"#"),i(),t(6,"th",15),n(7,"Knit Factory"),i(),t(8,"th",15),n(9,"Buyer"),i(),t(10,"th",15),n(11,"Order No"),i(),t(12,"th",15),n(13,"Style"),i(),t(14,"th",15),n(15,"Color"),i(),t(16,"th",15),n(17,"Knit Greige Booking Kgs"),i(),t(18,"th",15),n(19,"Yarn Order Allocated Kgs"),i(),t(20,"th",15),n(21,"Yarn Receipt Kgs"),i(),t(22,"th",15),n(23,"Greige Delivery Kgs"),i(),t(24,"th",15),n(25,"Excess Allocation Kgs"),i(),t(26,"th",15),n(27,"Excess Yarn Receipt"),i(),t(28,"th",15),n(29,"Excess Greige Utilization"),i()()(),t(30,"tbody"),x(31,ne,34,34,"tr",16),i()(),t(32,"div",17)(33,"ngb-pagination",18),T("pageChange",function(l){f(e);let c=b();return K(c.page,l)||(c.page=l),v(l)}),i()()()}if(u&2){let e=b();a(),m("striped",!0),a(30),m("ngForOf",e.yarnReconciliationList.slice((e.page-1)*e.pageSize,e.page*e.pageSize)),a(2),I("page",e.page),m("boundaryLinks",!0)("maxSize",3)("pageSize",e.pageSize)("collectionSize",e.yarnReconciliationList.length)}}function ae(u,r){u&1&&(t(0,"div",24)(1,"c-card",25),_(2,"img",26),t(3,"c-card-body")(4,"h5",27),n(5,"No Data Found"),i(),t(6,"p",28),n(7," There are no buyer records available at the moment. "),i()()()())}var h=class h{constructor(r,e,o,l,c){this.calendar=r;this.formatter=e;this.router=o;this.fb=l;this.api=c;this.visible=!0;this.editTooltip="Edit";this.customStylesValidated=!1;this.popupIdentity=0;this.currentDate={year:new Date().getFullYear(),month:new Date().getMonth()+1,day:new Date().getDate()};this.page=1;this.pageSize=5;this.yarnReconciliationList=[];this.profileList=[];this.filterBuyer="";this.fromDate=null;this.toDate=null;this.today=this.calendar.getToday()}ngOnInit(){}get minToDate(){return this.fromDate?this.fromDate:this.today}onFromDateSelect(r){this.fromDate=r,this.toDate=null}onToDateSelect(r){this.toDate=r}formatDate(r){let e=r.month<10?"0"+r.month:r.month,o=r.day<10?"0"+r.day:r.day;return`${r.year}-${e}-${o}`}onSearch(){if(!this.fromDate||!this.toDate){this.api.showError("Please select both dates","Error");return}this.api.GetApi(`yarnapi/yarn_reconciliation?date1=${this.fromDate}&date2=${this.toDate}`).subscribe(r=>{this.yarnReconciliationList=r.YarnReconciliation})}};h.\u0275fac=function(e){return new(e||h)(S(Q),S(X),S(k),S(J),S(q))},h.\u0275cmp=w({type:h,selectors:[["app-yarn-reconciliation"]],decls:23,vars:5,consts:[["fromDp","ngbDatepicker"],["toDp","ngbDatepicker"],["fluid",""],[3,"routerLink"],[1,"ms-auto"],[2,"display","flex","gap","2vh","align-items","center"],[1,"input-group"],["placeholder","From Date","name","fromDate","ngbDatepicker","","readonly","",1,"form-control",3,"dateSelect","value"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["placeholder","To Date","name","toDate","ngbDatepicker","","readonly","",1,"form-control",3,"dateSelect","minDate","value"],["cButton","","color","primary","variant","outline",3,"click"],["style","overflow-x: auto; width: 100%;","class","table-responsive",4,"ngIf"],["class","d-flex justify-content-center align-items-center","style","height: 100vh; width: 100%;",4,"ngIf"],[1,"table-responsive",2,"overflow-x","auto","width","100%"],["bordered","","cTable","",1,"table","table-hover",3,"striped"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center"],[3,"pageChange","page","boundaryLinks","maxSize","pageSize","collectionSize"],["scope","row",1,"text-center"],[1,"text-center"],["cTooltip","Yarn Order Allocated Kgs - Knit Greige Booking Kgs","cTooltipPlacement","top",1,"text-center"],["cTooltip","Yarn Receipt Kgs - Knit Greige Booking Kgs","cTooltipPlacement","top",1,"text-center"],["cTooltip","Greige Delivery Kgs - Knit Greige Booking Kgs","cTooltipPlacement","top",1,"text-center"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh","width","100%"],[2,"max-width","400px","text-align","center"],["cCardImg","top","src","../../../../assets/No data-amico.svg","alt","No Data"],["cCardTitle",""],["cCardText",""]],template:function(e,o){if(e&1){let l=E();t(0,"c-header")(1,"c-container",2)(2,"c-header-brand",3),n(3,"Yarn Reconciliation"),i(),t(4,"c-header-nav",4)(5,"c-nav-item")(6,"div",5)(7,"div",6)(8,"input",7,0),y("dateSelect",function(g){return f(l),v(o.onFromDateSelect(g))}),i(),t(10,"button",8),y("click",function(){f(l);let g=C(9);return v(g.toggle())}),n(11,"\u{1F4C5}"),i()(),t(12,"div",6)(13,"input",9,1),y("dateSelect",function(g){return f(l),v(o.onToDateSelect(g))}),i(),t(15,"button",8),y("click",function(){f(l);let g=C(14);return v(g.toggle())}),n(16,"\u{1F4C5}"),i()(),t(17,"button",10),y("click",function(){return f(l),v(o.onSearch())}),n(18," Search "),i()()()()(),_(19,"c-header-divider"),t(20,"c-container",2),x(21,re,34,7,"div",11)(22,ae,8,0,"div",12),i()()}e&2&&(a(8),m("value",o.fromDate?o.formatDate(o.fromDate):""),a(5),m("minDate",o.minToDate)("value",o.toDate?o.formatDate(o.toDate):""),a(8),m("ngIf",((o.yarnReconciliationList==null?null:o.yarnReconciliationList.length)||0)>0),a(),m("ngIf",((o.yarnReconciliationList==null?null:o.yarnReconciliationList.length)||0)===0))},dependencies:[te,N,R,B,A,O,H,M,G,$,V,L,j,P,z,W,F,U,ee,Z,Y],encapsulation:2});var ie=h;export{ie as YarnReconciliationComponent};
