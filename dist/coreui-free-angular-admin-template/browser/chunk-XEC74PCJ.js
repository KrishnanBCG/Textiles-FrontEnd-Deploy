import{a as be,d as ge,e as ve}from"./chunk-3CQKJCQS.js";import{a as ye}from"./chunk-LBW5AWSH.js";import"./chunk-UZYPASHM.js";import{c as le,e as _,f as pe,g as ce,k as se,l as de,o as me,t as ue,v as fe}from"./chunk-SVEOW7D2.js";import{$ as q,A as G,B as R,Da as ae,G as O,H as j,X as Q,_ as U,aa as W,da as $,ea as J,fa as K,ga as X,ia as Y,na as Z,oa as ee,pa as te,qa as ie,ra as re,sa as oe,ta as ne}from"./chunk-37SJZKTR.js";import"./chunk-CZ6YIH4Q.js";import{A as z,d as V,e as k,g as A,k as H,z as P}from"./chunk-25OLHFVP.js";import{$b as C,Lc as B,Ob as c,Pb as i,Qb as t,Rb as d,Ub as w,Vb as T,Xa as l,bb as v,bc as m,fc as x,gc as F,hb as D,hc as S,ja as y,ka as b,lc as h,nb as g,qc as n,rc as u,sc as I,uc as M,vc as L,wc as N}from"./chunk-AONHZWD2.js";import{a as E}from"./chunk-AQY5CCQG.js";var Ce=["scrollableLongContentModal"],he=["closeBtn"];function _e(p,r){if(p&1){let e=T();i(0,"tr")(1,"th",21),n(2),t(),i(3,"td",21),n(4),t(),i(5,"td",21),n(6),t(),i(7,"td",21),n(8),t(),i(9,"td",21)(10,"button",22),C("click",function(){let o=y(e).$implicit,s=m(2);return s.openPopup("Edit"),b(s.callEdit(o))}),d(11,"i",23),t()()()}if(p&2){let e=r.$implicit,a=r.index,o=m(2),s=h(13);l(2),u((o.page-1)*o.pageSize+a+1),l(2),u(e.fabricstype),l(2),u(e.description),l(2),u(e.dyepl),l(2),c("cModalToggle",s.id)}}function xe(p,r){if(p&1){let e=T();i(0,"div",15)(1,"table",16)(2,"thead")(3,"tr")(4,"th",17),n(5,"#"),t(),i(6,"th",17),n(7,"Fabrics Type"),t(),i(8,"th",17),n(9,"Fabrics Type Description"),t(),i(10,"th",17),n(11,"Dye Process Loss"),t(),i(12,"th",17),n(13,"Action"),t()()(),i(14,"tbody"),g(15,_e,12,5,"tr",18),t()(),i(16,"div",19)(17,"ngb-pagination",20),N("pageChange",function(o){y(e);let s=m();return L(s.page,o)||(s.page=o),b(o)}),t()()()}if(p&2){let e=m();l(),c("striped",!0),l(14),c("ngForOf",e.fabricTypeList.slice((e.page-1)*e.pageSize,e.page*e.pageSize)),l(2),M("page",e.page),c("boundaryLinks",!0)("maxSize",3)("pageSize",e.pageSize)("collectionSize",e.fabricTypeList.length)}}function Fe(p,r){p&1&&(i(0,"div",24)(1,"c-card",25),d(2,"img",26),i(3,"c-card-body")(4,"h5",27),n(5,"No Data Found"),t(),i(6,"p",28),n(7," There are no fabricType records available at the moment. "),t()()()())}function Se(p,r){p&1&&w(0)}function Ee(p,r){if(p&1&&(i(0,"div",29)(1,"div")(2,"c-input-group")(3,"span",30),n(4,"Fabrics Type"),t(),d(5,"input",31),t()(),i(6,"div")(7,"c-input-group")(8,"span",30),n(9,"Fabrics Type Description"),t(),d(10,"textarea",32),t()(),i(11,"div")(12,"c-input-group")(13,"span",30),n(14,"Dye Process Loss %"),t(),d(15,"input",33),t()()()),p&2){let e=m();c("formGroup",e.fabricTypeForm)}}var f=class f{constructor(r,e,a){this.router=r;this.fb=e;this.api=a;this.visible=!0;this.editTooltip="Edit";this.popupIdentity=0;this.page=1;this.pageSize=5;this.fabricTypeList=[];this.profileList=[];this.filterFabricType="";this.fabricTypeForm=this.fb.group({fabtype:[null,[_.required]],description:[null,[_.required]],dyepl:[null,[_.required]]})}openPopup(r){r=="Add"?this.popupIdentity=1:this.popupIdentity=2}ngOnInit(){this.listBuyers()}listBuyers(){this.api.GetApi(`/mastersapi/fabric-type-master-filter?fabType=${this.filterFabricType}`).subscribe(r=>{this.fabricTypeList=r.fabricType})}callEdit(r){this.editId=r.id,this.fabricTypeForm.controls.fabtype.setValue(r.fabricstype),this.fabricTypeForm.controls.description.setValue(r.description),this.fabricTypeForm.controls.dyepl.setValue(r.dyepl)}saveUpdate(r){if(!this.fabricTypeForm.invalid)if(r===1)this.api.PostApiWithHeader("/mastersapi/fabric-type-master",this.fabricTypeForm.value).subscribe(e=>{e.success===!0?(this.listBuyers(),this.closeBtn.nativeElement.click(),this.fabricTypeForm.reset(),this.api.showSuccess("saved Successfully !!! ","Saved")):this.api.showError("Not saved","Error")});else{let e=E({id:this.editId},this.fabricTypeForm.value);this.api.PostApiWithHeader("/mastersapi/fabric-type-master",e).subscribe(a=>{a.success===!0?(this.closeBtn.nativeElement.click(),this.fabricTypeForm.reset(),this.listBuyers(),this.api.showSuccess("Updated Successfully !!! ","Updated")):this.api.showError("Not Updated","Error")})}}};f.\u0275fac=function(e){return new(e||f)(v(P),v(ue),v(ye))},f.\u0275cmp=D({type:f,selectors:[["app-fabric-type"]],viewQuery:function(e,a){if(e&1&&(x(Ce,5),x(he,5)),e&2){let o;F(o=S())&&(a.scrollableLongContentModal=o.first),F(o=S())&&(a.closeBtn=o.first)}},decls:28,vars:8,consts:[["scrollableLongContentModal",""],["closeBtn",""],["longContent",""],["fluid",""],[3,"routerLink"],[1,"ms-auto"],["cButton","","color","primary","variant","outline",3,"click","cModalToggle"],["style","overflow-x: auto; width: 100%;",4,"ngIf"],["class","d-flex justify-content-center align-items-center","style","height: 100vh; width: 100%;",4,"ngIf"],["backdrop","static","id","scrollableLongContentModal","scrollable",""],["cModalTitle",""],["cButtonClose","",3,"cModalToggle"],[4,"ngTemplateOutlet"],["cButton","","color","secondary",3,"cModalToggle"],["cButton","","color","primary",3,"click"],[2,"overflow-x","auto","width","100%"],["bordered","","cTable","",1,"table","table-hover",3,"striped"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center"],[3,"pageChange","page","boundaryLinks","maxSize","pageSize","collectionSize"],["scope","row",1,"text-center"],[1,"btn","btn-sm","btn-outline-primary",3,"click","cModalToggle"],[1,"cil-pencil"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh","width","100%"],[2,"max-width","400px","text-align","center"],["cCardImg","top","src","../../../../assets/No data-amico.svg","alt","No Data"],["cCardTitle",""],["cCardText",""],[2,"display","flex","flex-direction","column","gap","5vh",3,"formGroup"],["cInputGroupText",""],["aria-label","Fabrics Type","cFormControl","","formControlName","fabtype"],["aria-label","Fabrics Type Description","cFormControl","","formControlName","description"],["aria-label","Dye Process Loss","cFormControl","","type","number","formControlName","dyepl"]],template:function(e,a){if(e&1){let o=T();i(0,"c-header")(1,"c-container",3)(2,"c-header-brand",4),n(3,"Fabrics Type Master"),t(),i(4,"c-header-nav",5)(5,"c-nav-item")(6,"button",6),C("click",function(){return y(o),b(a.openPopup("Add"))}),n(7,"Add Fabrics Type"),t()()()(),d(8,"c-header-divider"),i(9,"c-container",3),g(10,xe,18,7,"div",7)(11,Fe,8,0,"div",8),t()(),i(12,"c-modal",9,0)(14,"c-modal-header")(15,"h5",10),n(16),t(),d(17,"button",11,1),t(),i(19,"c-modal-body"),g(20,Se,1,0,"ng-container",12),t(),i(21,"c-modal-footer")(22,"button",13),n(23," Close "),t(),i(24,"button",14),C("click",function(){return y(o),b(a.saveUpdate(a.popupIdentity))}),n(25),t()()(),g(26,Ee,16,1,"ng-template",null,2,B)}if(e&2){let o=h(13),s=h(27);l(6),c("cModalToggle",o.id),l(4),c("ngIf",((a.fabricTypeList==null?null:a.fabricTypeList.length)||0)>0),l(),c("ngIf",((a.fabricTypeList==null?null:a.fabricTypeList.length)||0)===0),l(5),I(" ",a.popupIdentity==1?"Add New Fabrics Type":"Edit Fabrics Type"),l(),c("cModalToggle",o.id),l(3),c("ngTemplateOutlet",s),l(2),c("cModalToggle",o.id),l(3),u(a.popupIdentity==1?"Save changes":"Update changes")}},dependencies:[Y,$,J,K,X,z,W,Z,G,j,O,ae,R,ee,ne,ie,re,oe,te,A,fe,le,se,pe,ce,de,me,U,q,Q,H,V,k,ve,ge,be],encapsulation:2});var Te=f;export{Te as FabricTypeComponent};
