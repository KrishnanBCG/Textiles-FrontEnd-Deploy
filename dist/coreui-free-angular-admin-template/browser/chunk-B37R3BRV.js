import{a as Te,d as he,e as ve}from"./chunk-3CQKJCQS.js";import{a as _e}from"./chunk-LBW5AWSH.js";import"./chunk-UZYPASHM.js";import{c as pe,e as d,f as se,g as ce,k as me,l as de,o as ye,p as ue,q as ge,r as fe,t as Se,v as be}from"./chunk-SVEOW7D2.js";import{$ as Q,A as O,B as P,Da as ae,G as z,H as R,X as U,Z as $,_ as j,aa as W,da as Y,ea as J,fa as K,ga as X,ia as Z,na as ee,oa as te,pa as ie,qa as ne,ra as re,sa as le,ta as oe}from"./chunk-37SJZKTR.js";import"./chunk-CZ6YIH4Q.js";import{A as H,d as B,e as G,g as k,k as A,z as q}from"./chunk-25OLHFVP.js";import{$b as b,Lc as N,Ob as c,Pb as i,Qb as e,Rb as y,Ub as M,Vb as T,Xa as o,bb as h,bc as u,fc as x,gc as C,hb as F,hc as E,ja as g,ka as f,lc as v,nb as S,qc as r,rc as m,sc as w,uc as D,vc as V,wc as L}from"./chunk-AONHZWD2.js";import{a as I}from"./chunk-AQY5CCQG.js";var Ce=["scrollableLongContentModal"],Ee=["closeBtn"];function Ie(s,n){if(s&1){let t=T();i(0,"tr")(1,"th",21),r(2),e(),i(3,"td",21),r(4),e(),i(5,"td",21),r(6),e(),i(7,"td",21),r(8),e(),i(9,"td",21),r(10),e(),i(11,"td",21),r(12),e(),i(13,"td",21),r(14),e(),i(15,"td",21),r(16),e(),i(17,"td",21),r(18),e(),i(19,"td",21),r(20),e(),i(21,"td",21),r(22),e(),i(23,"td",21),r(24),e(),i(25,"td",21)(26,"button",22),b("click",function(){let l=g(t).$implicit,p=u(2);return p.openPopup("Edit"),f(p.callEdit(l))}),y(27,"i",23),e()()()}if(s&2){let t=n.$implicit,a=n.index,l=u(2),p=v(13);o(2),m((l.page-1)*l.pageSize+a+1),o(2),m(t.style),o(2),m(t.style_code),o(2),m(t.style_type),o(2),m(t.utility),o(2),m(t.buyer),o(2),m(t.brand),o(2),m(t.yarnType),o(2),m(t.fabricType),o(2),m(t.dyeType),o(2),m(t.packingType),o(2),m(t.fabricGSM),o(2),c("cModalToggle",p.id)}}function Fe(s,n){if(s&1){let t=T();i(0,"div",15)(1,"table",16)(2,"thead")(3,"tr")(4,"th",17),r(5,"#"),e(),i(6,"th",17),r(7,"Style Name"),e(),i(8,"th",17),r(9,"Style Code"),e(),i(10,"th",17),r(11,"Style Type"),e(),i(12,"th",17),r(13,"Utility"),e(),i(14,"th",17),r(15,"Buyer Name"),e(),i(16,"th",17),r(17,"Brand"),e(),i(18,"th",17),r(19,"Yarn Type"),e(),i(20,"th",17),r(21,"Fabric Type"),e(),i(22,"th",17),r(23,"Dye Type"),e(),i(24,"th",17),r(25,"Packing Type"),e(),i(26,"th",17),r(27,"Fabric GSM"),e(),i(28,"th",17),r(29,"Action"),e()()(),i(30,"tbody"),S(31,Ie,28,13,"tr",18),e()(),i(32,"div",19)(33,"ngb-pagination",20),L("pageChange",function(l){g(t);let p=u();return V(p.page,l)||(p.page=l),f(l)}),e()()()}if(s&2){let t=u();o(),c("striped",!0),o(30),c("ngForOf",t.styleList.slice((t.page-1)*t.pageSize,t.page*t.pageSize)),o(2),D("page",t.page),c("pageSize",t.pageSize)("boundaryLinks",!0)("maxSize",3)("collectionSize",t.styleList.length)}}function Me(s,n){s&1&&(i(0,"div",24)(1,"c-card",25),y(2,"img",26),i(3,"c-card-body")(4,"h5",27),r(5,"No Data Found"),e(),i(6,"p",28),r(7," There are no DyeFty records available at the moment. "),e()()()())}function we(s,n){s&1&&M(0)}function De(s,n){if(s&1&&(i(0,"option",43),r(1),e()),s&2){let t=n.$implicit;c("value",t.buyer),o(),m(t.buyer)}}function Ve(s,n){if(s&1&&(i(0,"option",43),r(1),e()),s&2){let t=n.$implicit;c("value",t.yarntype),o(),m(t.yarntype)}}function Le(s,n){if(s&1&&(i(0,"option",43),r(1),e()),s&2){let t=n.$implicit;c("value",t.fabricstype),o(),m(t.fabricstype)}}function Ne(s,n){if(s&1&&(i(0,"option",43),r(1),e()),s&2){let t=n.$implicit;c("value",t.dyeType),o(),m(t.dyeType)}}function Be(s,n){if(s&1){let t=T();i(0,"div",29)(1,"div")(2,"c-input-group")(3,"span",30),r(4,"Style Name"),e(),y(5,"input",31),e()(),i(6,"div")(7,"c-input-group")(8,"span",30),r(9,"Style Code"),e(),y(10,"input",32),e()(),i(11,"div")(12,"c-input-group")(13,"span",30),r(14,"Style Type"),e(),y(15,"input",33),e()(),i(16,"div")(17,"c-input-group")(18,"span",30),r(19,"Utility"),e(),y(20,"input",34),e()(),i(21,"div")(22,"c-input-group")(23,"span",30),r(24,"Buyer"),e(),i(25,"select",35),b("change",function(l){g(t);let p=u();return f(p.getbuyerId(l))}),i(26,"option"),r(27,"Select Buyer"),e(),S(28,De,2,2,"option",36),e()()(),i(29,"div")(30,"c-input-group")(31,"span",30),r(32,"Brand"),e(),y(33,"input",37),e()(),i(34,"div")(35,"c-input-group")(36,"span",30),r(37,"yarn Type"),e(),i(38,"select",38),b("change",function(l){g(t);let p=u();return f(p.getyarntypeId(l))}),i(39,"option"),r(40,"Select yarn Type"),e(),S(41,Ve,2,2,"option",36),e()()(),i(42,"div")(43,"c-input-group")(44,"span",30),r(45,"Fabric Type"),e(),i(46,"select",39),b("change",function(l){g(t);let p=u();return f(p.getfabrictypeId(l))}),i(47,"option"),r(48,"Select fabricType Type"),e(),S(49,Le,2,2,"option",36),e()()(),i(50,"div")(51,"c-input-group")(52,"span",30),r(53,"Dye Type"),e(),i(54,"select",40),b("change",function(l){g(t);let p=u();return f(p.getdyetypeId(l))}),i(55,"option"),r(56,"Select Dye Type"),e(),S(57,Ne,2,2,"option",36),e()()(),i(58,"div")(59,"c-input-group")(60,"span",30),r(61,"Packing Type"),e(),y(62,"input",41),e()(),i(63,"div")(64,"c-input-group")(65,"span",30),r(66,"Fabric GSM"),e(),y(67,"input",42),e()()()}if(s&2){let t=u();c("formGroup",t.styleForm),o(28),c("ngForOf",t.buyersList),o(13),c("ngForOf",t.yarnTypeList),o(8),c("ngForOf",t.fabricTypeList),o(8),c("ngForOf",t.dyeTypeList)}}var _=class _{constructor(n,t,a){this.router=n;this.fb=t;this.api=a;this.visible=!0;this.editTooltip="Edit";this.page=1;this.pageSize=5;this.popupIdentity=0;this.buyersList=[];this.profileList=[];this.yarnTypeList=[];this.fabricTypeList=[];this.dyeTypeList=[];this.styleList=[];this.filterStyle="";this.styleForm=this.fb.group({buyer:[null,d.required],style:[null,d.required],stylecode:[null,d.required],styletype:[null,d.required],utility:[null,d.required],buyerId:[null,d.required],brand:[null,d.required],yarnType:[null,d.required],yarnTypeId:[null,d.required],fabricType:[null,d.required],fabricTypeId:[null,d.required],dyeType:[null,d.required],dyeTypeId:[null,d.required],packingType:[null,d.required],fabricGSM:[null,d.required]})}openPopup(n){n=="Add"?this.popupIdentity=1:this.popupIdentity=2}ngOnInit(){this.listBuyers(),this.listYarnType(),this.listFabricType(),this.listStyle(),this.listDyeType()}listStyle(){this.api.GetApi(`/mastersapi/style-master-filter?style=${this.filterStyle}`).subscribe(n=>{this.styleList=n.styles})}listBuyers(){this.api.GetApi("/mastersapi/drop-buyer-Master").subscribe(n=>{this.buyersList=n.buyer})}listYarnType(){this.api.GetApi("/mastersapi/yarn-type-master").subscribe(n=>{this.yarnTypeList=n.yarnType})}listFabricType(){this.api.GetApi("/mastersapi/fabric-type-master").subscribe(n=>{this.fabricTypeList=n.fabricType})}listDyeType(){this.api.GetApi("/mastersapi/dye-type-master").subscribe(n=>{this.dyeTypeList=n.DyeType})}getbuyerId(n){let a=n.target.value;this.api.GetApi(`/mastersapi/drop-buyerId-Master?buyer='${a}'`).subscribe(l=>{let p=l.buyer[0].id;this.styleForm.controls.buyerId.setValue(p)})}getyarntypeId(n){let a=n.target.value;this.api.GetApi(`/mastersapi/drop-yarnTypeId-Master?yarnType='${a}'`).subscribe(l=>{let p=l.yarnType[0].id;this.styleForm.controls.yarnTypeId.setValue(p)})}getfabrictypeId(n){let a=n.target.value;this.api.GetApi(`/mastersapi/drop-fabricstypeId-Master?fabricType='${a}'`).subscribe(l=>{let p=l.fabricstype[0].id;this.styleForm.controls.fabricTypeId.setValue(p)})}getdyetypeId(n){let a=n.target.value;this.api.GetApi(`/mastersapi/drop-dyetypeId-Master?DyeType='${a}'`).subscribe(l=>{let p=l.dyeType[0].id;this.styleForm.controls.dyeTypeId.setValue(p)})}callEdit(n){this.editId=n.id,this.styleForm.controls.style.setValue(n.style),this.styleForm.controls.stylecode.setValue(n.style_code),this.styleForm.controls.styletype.setValue(n.style_type),this.styleForm.controls.utility.setValue(n.utility),this.styleForm.controls.buyer.setValue(n.buyer),this.styleForm.controls.buyerId.setValue(n.buyer_id),this.styleForm.controls.brand.setValue(n.brand),this.styleForm.controls.yarnType.setValue(n.yarnType),this.styleForm.controls.yarnTypeId.setValue(n.yarnTypeId),this.styleForm.controls.fabricType.setValue(n.fabricType),this.styleForm.controls.fabricTypeId.setValue(n.fabricTypeId),this.styleForm.controls.dyeType.setValue(n.dyeType),this.styleForm.controls.dyeTypeId.setValue(n.dyeTypeId),this.styleForm.controls.packingType.setValue(n.packingType),this.styleForm.controls.fabricGSM.setValue(n.fabricGSM)}saveUpdate(n){if(!this.styleForm.invalid)if(n===1)this.api.PostApiWithHeader("/mastersapi/style-master",this.styleForm.value).subscribe(t=>{t.success===!0?(this.listStyle(),this.closeBtn.nativeElement.click(),this.styleForm.reset(),this.api.showSuccess("saved Successfully !!! ","Saved")):this.api.showError("Not saved","Error")});else{let t=I({id:this.editId},this.styleForm.value);this.api.PostApiWithHeader("/mastersapi/style-master",t).subscribe(a=>{a.success===!0?(this.closeBtn.nativeElement.click(),this.styleForm.reset(),this.listStyle(),this.api.showSuccess("Updated Successfully !!! ","Updated")):this.api.showError("Not Updated","Error")})}}};_.\u0275fac=function(t){return new(t||_)(h(q),h(Se),h(_e))},_.\u0275cmp=F({type:_,selectors:[["app-style"]],viewQuery:function(t,a){if(t&1&&(x(Ce,5),x(Ee,5)),t&2){let l;C(l=E())&&(a.scrollableLongContentModal=l.first),C(l=E())&&(a.closeBtn=l.first)}},decls:28,vars:8,consts:[["scrollableLongContentModal",""],["closeBtn",""],["longContent",""],["fluid",""],[3,"routerLink"],[1,"ms-auto"],["cButton","","color","primary","variant","outline",3,"click","cModalToggle"],["style","overflow-x: auto; width: 100%;",4,"ngIf"],["class","d-flex justify-content-center align-items-center","style","height: 100vh; width: 100%;",4,"ngIf"],["backdrop","static","id","scrollableLongContentModal","scrollable",""],["cModalTitle",""],["cButtonClose","",3,"cModalToggle"],[4,"ngTemplateOutlet"],["cButton","","color","secondary",3,"cModalToggle"],["cButton","","color","primary",3,"click"],[2,"overflow-x","auto","width","100%"],["bordered","","cTable","",1,"table","table-hover",3,"striped"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center"],[3,"pageChange","page","pageSize","boundaryLinks","maxSize","collectionSize"],["scope","row",1,"text-center"],[1,"btn","btn-sm","btn-outline-primary",3,"click","cModalToggle"],[1,"cil-pencil"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh","width","100%"],[2,"max-width","400px","text-align","center"],["cCardImg","top","src","../../../../assets/No data-amico.svg","alt","No Data"],["cCardTitle",""],["cCardText",""],[2,"display","flex","flex-direction","column","gap","5vh",3,"formGroup"],["cInputGroupText",""],["aria-label","Style Name","cFormControl","","formControlName","style"],["aria-label","Style Code","cFormControl","","formControlName","stylecode"],["aria-label","Style Type","cFormControl","","formControlName","styletype"],["aria-label","Utility","cFormControl","","formControlName","utility"],["aria-label","Buyer","cSelect","","formControlName","buyer",3,"change"],[3,"value",4,"ngFor","ngForOf"],["aria-label","Brand","cFormControl","","formControlName","brand"],["aria-label","yarn Type","cSelect","","formControlName","yarnType",3,"change"],["aria-label","Fabric Type","cSelect","","formControlName","fabricType",3,"change"],["aria-label","Dye Type","cSelect","","formControlName","dyeType",3,"change"],["aria-label","Packing Type","cFormControl","","formControlName","packingType"],["aria-label","Fabric GSM","cFormControl","","formControlName","fabricGSM","type","number"],[3,"value"]],template:function(t,a){if(t&1){let l=T();i(0,"c-header")(1,"c-container",3)(2,"c-header-brand",4),r(3,"Style Master"),e(),i(4,"c-header-nav",5)(5,"c-nav-item")(6,"button",6),b("click",function(){return g(l),f(a.openPopup("Add"))}),r(7,"Add Style"),e()()()(),y(8,"c-header-divider"),i(9,"c-container",3),S(10,Fe,34,7,"div",7)(11,Me,8,0,"div",8),e()(),i(12,"c-modal",9,0)(14,"c-modal-header")(15,"h5",10),r(16),e(),y(17,"button",11,1),e(),i(19,"c-modal-body"),S(20,we,1,0,"ng-container",12),e(),i(21,"c-modal-footer")(22,"button",13),r(23," Close "),e(),i(24,"button",14),b("click",function(){return g(l),f(a.saveUpdate(a.popupIdentity))}),r(25),e()()(),S(26,Be,68,5,"ng-template",null,2,N)}if(t&2){let l=v(13),p=v(27);o(6),c("cModalToggle",l.id),o(4),c("ngIf",((a.styleList==null?null:a.styleList.length)||0)>0),o(),c("ngIf",((a.styleList==null?null:a.styleList.length)||0)===0),o(5),w(" ",a.popupIdentity==1?"Add New Style":"Edit Style"),o(),c("cModalToggle",l.id),o(3),c("ngTemplateOutlet",p),o(2),c("cModalToggle",l.id),o(3),m(a.popupIdentity==1?"Save changes":"Update changes")}},dependencies:[Z,Y,J,K,X,H,W,ee,O,R,z,ae,P,te,oe,ne,re,le,ie,k,be,ge,fe,pe,me,ue,se,ce,de,ye,$,j,Q,U,A,B,G,ve,he,Te],encapsulation:2});var xe=_;export{xe as StyleComponent};
