import{a as ge,d as ve,e as fe}from"./chunk-3CQKJCQS.js";import{a as ue}from"./chunk-LBW5AWSH.js";import"./chunk-UZYPASHM.js";import{c as le,e as w,f as pe,g as ce,l as de,o as me,t as se,v as ye}from"./chunk-SVEOW7D2.js";import{$ as U,A as G,B as P,Da as ae,G as R,H as O,X as j,_ as Q,aa as W,da as q,ea as $,fa as J,ga as K,ia as X,na as Z,oa as ee,pa as te,qa as ie,ra as ne,sa as re,ta as oe}from"./chunk-37SJZKTR.js";import"./chunk-CZ6YIH4Q.js";import{A as z,d as Y,e as k,g as V,k as A,z as H}from"./chunk-25OLHFVP.js";import{$b as h,Lc as L,Ob as c,Pb as i,Qb as t,Rb as m,Ub as I,Vb as C,Xa as l,bb as T,bc as s,fc as b,gc as x,hb as D,hc as S,ja as u,ka as g,lc as _,nb as v,qc as a,rc as f,sc as M,uc as F,vc as N,wc as B}from"./chunk-AONHZWD2.js";import{a as E}from"./chunk-AQY5CCQG.js";var Ce=["scrollableLongContentModal"],he=["closeBtn"];function _e(p,n){if(p&1){let e=C();i(0,"tr")(1,"th",21),a(2),t(),i(3,"td",21),a(4),t(),i(5,"td",21),a(6),t(),i(7,"td")(8,"button",22),h("click",function(){let r=u(e).$implicit,d=s(2);return d.openPopup("Edit"),g(d.callEdit(r))}),m(9,"i",23),t()()()}if(p&2){let e=n.$implicit,o=n.index,r=s(2),d=_(13);l(2),f((r.page-1)*r.pageSize+o+1),l(2),f(e.yarntype),l(2),f(e.description),l(2),c("cModalToggle",d.id)}}function be(p,n){if(p&1){let e=C();i(0,"div",15)(1,"table",16)(2,"thead")(3,"tr")(4,"th",17),a(5,"#"),t(),i(6,"th",17),a(7,"Yarn Type"),t(),i(8,"th",17),a(9,"Description"),t(),i(10,"th",17),a(11,"Action"),t()()(),i(12,"tbody"),v(13,_e,10,4,"tr",18),t()(),i(14,"div",19)(15,"ngb-pagination",20),B("pageChange",function(r){u(e);let d=s();return N(d.page,r)||(d.page=r),g(r)}),t()()()}if(p&2){let e=s();l(),c("striped",!0),l(12),c("ngForOf",e.yarnTypeList.slice((e.page-1)*e.pageSize,e.page*e.pageSize)),l(2),F("page",e.page),c("boundaryLinks",!0)("maxSize",3)("pageSize",e.pageSize)("collectionSize",e.yarnTypeList.length)}}function xe(p,n){p&1&&(i(0,"div",24)(1,"c-card",25),m(2,"img",26),i(3,"c-card-body")(4,"h5",27),a(5,"No Data Found"),t(),i(6,"p",28),a(7," There are no yarn Type records available at the moment. "),t()()()())}function Se(p,n){p&1&&I(0)}function we(p,n){if(p&1&&(i(0,"div",29)(1,"div")(2,"c-input-group")(3,"span",30),a(4,"Name"),t(),m(5,"input",31),t()(),i(6,"div")(7,"c-input-group")(8,"span",30),a(9,"Description"),t(),m(10,"textarea",32),t()()()),p&2){let e=s();c("formGroup",e.yarnTypeForm)}}var y=class y{constructor(n,e,o){this.router=n;this.fb=e;this.api=o;this.visible=!0;this.editTooltip="Edit";this.popupIdentity=0;this.page=1;this.pageSize=5;this.yarnTypeList=[];this.profileList=[];this.filterBuyerYarnType="";this.yarnTypeForm=this.fb.group({yarntype:[null,[w.required]],description:[null,[w.required]]})}openPopup(n){n=="Add"?this.popupIdentity=1:this.popupIdentity=2}ngOnInit(){this.listYarnType()}listYarnType(){this.api.GetApi(`/mastersapi/yarn-type-master-filter?yarnType=${this.filterBuyerYarnType}`).subscribe(n=>{this.yarnTypeList=n.yarnType})}callEdit(n){this.editId=n.id,this.yarnTypeForm.controls.yarntype.setValue(n.yarntype),this.yarnTypeForm.controls.description.setValue(n.description)}saveUpdate(n){if(!this.yarnTypeForm.invalid)if(n===1)this.api.PostApiWithHeader("/mastersapi/yarn-type-master",this.yarnTypeForm.value).subscribe(e=>{e.success===!0?(this.listYarnType(),this.closeBtn.nativeElement.click(),this.yarnTypeForm.reset(),this.api.showSuccess("saved Successfully !!! ","Saved")):this.api.showError("Not saved","Error")});else{let e=E({id:this.editId},this.yarnTypeForm.value);this.api.PostApiWithHeader("/mastersapi/yarn-type-master",e).subscribe(o=>{o.success===!0?(this.closeBtn.nativeElement.click(),this.yarnTypeForm.reset(),this.listYarnType(),this.api.showSuccess("Updated Successfully !!! ","Updated")):this.api.showError("Not Updated","Error")})}}};y.\u0275fac=function(e){return new(e||y)(T(H),T(se),T(ue))},y.\u0275cmp=D({type:y,selectors:[["app-yarn-type"]],viewQuery:function(e,o){if(e&1&&(b(Ce,5),b(he,5)),e&2){let r;x(r=S())&&(o.scrollableLongContentModal=r.first),x(r=S())&&(o.closeBtn=r.first)}},decls:28,vars:8,consts:[["scrollableLongContentModal",""],["closeBtn",""],["longContent",""],["fluid",""],[3,"routerLink"],[1,"ms-auto"],["cButton","","color","primary","variant","outline",3,"click","cModalToggle"],["style","overflow-x: auto; width: 100%;",4,"ngIf"],["class","d-flex justify-content-center align-items-center","style","height: 100vh; width: 100%;",4,"ngIf"],["backdrop","static","id","scrollableLongContentModal","scrollable",""],["cModalTitle",""],["cButtonClose","",3,"cModalToggle"],[4,"ngTemplateOutlet"],["cButton","","color","secondary",3,"cModalToggle"],["cButton","","color","primary",3,"click"],[2,"overflow-x","auto","width","100%"],["bordered","","cTable","",1,"table","table-hover",3,"striped"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center"],[3,"pageChange","page","boundaryLinks","maxSize","pageSize","collectionSize"],["scope","row",1,"text-center"],[1,"btn","btn-sm","btn-outline-primary",3,"click","cModalToggle"],[1,"cil-pencil"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh","width","100%"],[2,"max-width","400px","text-align","center"],["cCardImg","top","src","../../../../assets/No data-amico.svg","alt","No Data"],["cCardTitle",""],["cCardText",""],[2,"display","flex","flex-direction","column","gap","5vh",3,"formGroup"],["cInputGroupText",""],["aria-label","Buyer Name","cFormControl","","formControlName","yarntype"],["aria-label","Country","cFormControl","","formControlName","description"]],template:function(e,o){if(e&1){let r=C();i(0,"c-header")(1,"c-container",3)(2,"c-header-brand",4),a(3,"Yarn Type Master"),t(),i(4,"c-header-nav",5)(5,"c-nav-item")(6,"button",6),h("click",function(){return u(r),g(o.openPopup("Add"))}),a(7,"Add Yarn Type"),t()()()(),m(8,"c-header-divider"),i(9,"c-container",3),v(10,be,16,7,"div",7)(11,xe,8,0,"div",8),t()(),i(12,"c-modal",9,0)(14,"c-modal-header")(15,"h5",10),a(16),t(),m(17,"button",11,1),t(),i(19,"c-modal-body"),v(20,Se,1,0,"ng-container",12),t(),i(21,"c-modal-footer")(22,"button",13),a(23," Close "),t(),i(24,"button",14),h("click",function(){return u(r),g(o.saveUpdate(o.popupIdentity))}),a(25),t()()(),v(26,we,11,1,"ng-template",null,2,L)}if(e&2){let r=_(13),d=_(27);l(6),c("cModalToggle",r.id),l(4),c("ngIf",((o.yarnTypeList==null?null:o.yarnTypeList.length)||0)>0),l(),c("ngIf",((o.yarnTypeList==null?null:o.yarnTypeList.length)||0)===0),l(5),M(" ",o.popupIdentity==1?"Add New YarnType":"Edit YarnType"),l(),c("cModalToggle",r.id),l(3),c("ngTemplateOutlet",d),l(2),c("cModalToggle",r.id),l(3),f(o.popupIdentity==1?"Save changes":"Update changes")}},dependencies:[X,q,$,J,K,z,W,Z,G,O,R,ae,P,ee,oe,ie,ne,re,te,V,ye,le,pe,ce,de,me,Q,U,j,A,Y,k,fe,ve,ge],encapsulation:2});var Te=y;export{Te as YarnTypeComponent};
