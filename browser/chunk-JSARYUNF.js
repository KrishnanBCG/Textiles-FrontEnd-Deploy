import{a as ye,f as ge,g as ve}from"./chunk-IFEE7RF4.js";import{a as fe}from"./chunk-MUOSKTGI.js";import"./chunk-RXRC2IAU.js";import{c as le,e as C,f as ce,g as me,l as pe,o as de,t as se,v as ue}from"./chunk-DO327FSU.js";import{A as G,B as P,G as R,Ga as ae,H as O,Z as j,aa as q,ba as Q,ca as U,fa as W,ga as $,ha as J,ia as X,la as Y,qa as Z,ra as ee,sa as te,ta as ie,ua as ne,va as oe,wa as re}from"./chunk-W7O4NI74.js";import"./chunk-RXWOWTKC.js";import{d as B,e as K,g as V,j as A,y as H,z}from"./chunk-H4Z643GT.js";import{Ac as o,Bc as u,Cc as T,Ec as N,Fc as I,Gc as M,Rb as m,Sb as i,Tb as t,Ub as d,Vc as L,Za as l,_b as D,cc as F,ic as _,ka as y,kb as h,la as g,lc as s,pb as w,pc as b,qc as k,rc as S,vb as v,vc as x}from"./chunk-G573C4CW.js";import{a as E}from"./chunk-AQY5CCQG.js";var he=["scrollableLongContentModal"],Fe=["closeBtn"];function _e(c,n){if(c&1){let e=F();i(0,"tr")(1,"th",21),o(2),t(),i(3,"td",21),o(4),t(),i(5,"td",21),o(6),t(),i(7,"td",21),o(8),t(),i(9,"td",21)(10,"button",22),_("click",function(){let r=y(e).$implicit,p=s(2);return p.openPopup("Edit"),g(p.callEdit(r))}),d(11,"i",23),t()()()}if(c&2){let e=n.$implicit,a=n.index,r=s(2),p=x(13);l(2),u((r.page-1)*r.pageSize+a+1),l(2),u(e.knitFty),l(2),u(e.contact),l(2),u(e.legalFtyName),l(2),m("cModalToggle",p.id)}}function xe(c,n){if(c&1){let e=F();i(0,"div",15)(1,"table",16)(2,"thead")(3,"tr")(4,"th",17),o(5,"#"),t(),i(6,"th",17),o(7,"Knit Factory Name"),t(),i(8,"th",17),o(9,"Contact Details"),t(),i(10,"th",17),o(11,"Legal name"),t(),i(12,"th",17),o(13,"Action"),t()()(),i(14,"tbody"),v(15,_e,12,5,"tr",18),t()(),i(16,"div",19)(17,"ngb-pagination",20),M("pageChange",function(r){y(e);let p=s();return I(p.page,r)||(p.page=r),g(r)}),t()()()}if(c&2){let e=s();l(),m("striped",!0),l(14),m("ngForOf",e.knitftyList.slice((e.page-1)*e.pageSize,e.page*e.pageSize)),l(2),N("page",e.page),m("boundaryLinks",!0)("maxSize",3)("pageSize",e.pageSize)("collectionSize",e.knitftyList.length)}}function be(c,n){c&1&&(i(0,"div",24)(1,"c-card",25),d(2,"img",26),i(3,"c-card-body")(4,"h5",27),o(5,"No Data Found"),t(),i(6,"p",28),o(7," There are no knitfty records available at the moment. "),t()()()())}function ke(c,n){c&1&&D(0)}function Se(c,n){if(c&1&&(i(0,"div",29)(1,"div")(2,"c-input-group")(3,"span",30),o(4,"Knit Factory Name"),t(),d(5,"input",31),t()(),i(6,"div")(7,"c-input-group")(8,"span",30),o(9,"Knit Location"),t(),d(10,"input",32),t()(),i(11,"div")(12,"c-input-group")(13,"span",30),o(14,"Contact Details"),t(),d(15,"input",33),t()(),i(16,"div")(17,"c-input-group")(18,"span",30),o(19,"Legal Factory Name"),t(),d(20,"input",34),t()()()),c&2){let e=s();m("formGroup",e.knitftyForm)}}var f=class f{constructor(n,e,a){this.router=n;this.fb=e;this.api=a;this.visible=!0;this.editTooltip="Edit";this.popupIdentity=0;this.page=1;this.pageSize=5;this.knitftyList=[];this.profileList=[];this.filterknitfty="";this.knitftyForm=this.fb.group({knitFty:[null,[C.required]],location:[null,[C.required]],contact:[null,[C.required]],legalFtyName:[null,[C.required]]})}openPopup(n){n=="Add"?this.popupIdentity=1:this.popupIdentity=2}ngOnInit(){this.listknitfty()}listknitfty(){this.api.GetApi(`/mastersapi/knitFty-master-filter?knitFty=${this.filterknitfty}`).subscribe(n=>{this.knitftyList=n.knitFty})}callEdit(n){this.editId=n.id,this.knitftyForm.controls.knitFty.setValue(n.knitFty),this.knitftyForm.controls.location.setValue(n.location),this.knitftyForm.controls.contact.setValue(n.contact),this.knitftyForm.controls.legalFtyName.setValue(n.legalFtyName)}saveUpdate(n){if(!this.knitftyForm.invalid)if(n===1)this.api.PostApiWithHeader("/mastersapi/knitFty-master",this.knitftyForm.value).subscribe(e=>{e.success===!0?(this.listknitfty(),this.closeBtn.nativeElement.click(),this.knitftyForm.reset(),this.api.showSuccess("saved Successfully !!! ","Saved")):this.api.showError("Not saved","Error")});else{let e=E({id:this.editId},this.knitftyForm.value);this.api.PostApiWithHeader("/mastersapi/knitFty-master",e).subscribe(a=>{a.success===!0?(this.closeBtn.nativeElement.click(),this.knitftyForm.reset(),this.listknitfty(),this.api.showSuccess("Updated Successfully !!! ","Updated")):this.api.showError("Not Updated","Error")})}}};f.\u0275fac=function(e){return new(e||f)(h(H),h(se),h(fe))},f.\u0275cmp=w({type:f,selectors:[["app-knit-fty"]],viewQuery:function(e,a){if(e&1&&(b(he,5),b(Fe,5)),e&2){let r;k(r=S())&&(a.scrollableLongContentModal=r.first),k(r=S())&&(a.closeBtn=r.first)}},decls:28,vars:8,consts:[["scrollableLongContentModal",""],["closeBtn",""],["longContent",""],["fluid",""],[3,"routerLink"],[1,"ms-auto"],["cButton","","color","primary","variant","outline",3,"click","cModalToggle"],["style","overflow-x: auto; width: 100%;",4,"ngIf"],["class","d-flex justify-content-center align-items-center","style","height: 100vh; width: 100%;",4,"ngIf"],["backdrop","static","id","scrollableLongContentModal","scrollable",""],["cModalTitle",""],["cButtonClose","",3,"cModalToggle"],[4,"ngTemplateOutlet"],["cButton","","color","secondary",3,"cModalToggle"],["cButton","","color","primary",3,"click"],[2,"overflow-x","auto","width","100%"],["bordered","","cTable","",1,"table","table-hover",3,"striped"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center"],[3,"pageChange","page","boundaryLinks","maxSize","pageSize","collectionSize"],["scope","row",1,"text-center"],[1,"btn","btn-sm","btn-outline-primary",3,"click","cModalToggle"],[1,"cil-pencil"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh","width","100%"],[2,"max-width","400px","text-align","center"],["cCardImg","top","src","../../../../assets/No data-amico.svg","alt","No Data"],["cCardTitle",""],["cCardText",""],[2,"display","flex","flex-direction","column","gap","5vh",3,"formGroup"],["cInputGroupText",""],["aria-label","Knit Factory Name","cFormControl","","formControlName","knitFty"],["aria-label","Knit Location","cFormControl","","formControlName","location"],["aria-label","Contact Details","cFormControl","","formControlName","contact"],["aria-label","Legal Factory Name","cFormControl","","formControlName","legalFtyName"]],template:function(e,a){if(e&1){let r=F();i(0,"c-header")(1,"c-container",3)(2,"c-header-brand",4),o(3,"KnitFty Master"),t(),i(4,"c-header-nav",5)(5,"c-nav-item")(6,"button",6),_("click",function(){return y(r),g(a.openPopup("Add"))}),o(7,"Add KnitFty"),t()()()(),d(8,"c-header-divider"),i(9,"c-container",3),v(10,xe,18,7,"div",7)(11,be,8,0,"div",8),t()(),i(12,"c-modal",9,0)(14,"c-modal-header")(15,"h5",10),o(16),t(),d(17,"button",11,1),t(),i(19,"c-modal-body"),v(20,ke,1,0,"ng-container",12),t(),i(21,"c-modal-footer")(22,"button",13),o(23," Close "),t(),i(24,"button",14),_("click",function(){return y(r),g(a.saveUpdate(a.popupIdentity))}),o(25),t()()(),v(26,Se,21,1,"ng-template",null,2,L)}if(e&2){let r=x(13),p=x(27);l(6),m("cModalToggle",r.id),l(4),m("ngIf",((a.knitftyList==null?null:a.knitftyList.length)||0)>0),l(),m("ngIf",((a.knitftyList==null?null:a.knitftyList.length)||0)===0),l(5),T(" ",a.popupIdentity==1?"Add New KnitFty":"Edit KnitFty"),l(),m("cModalToggle",r.id),l(3),m("ngTemplateOutlet",p),l(2),m("cModalToggle",r.id),l(3),u(a.popupIdentity==1?"Save changes":"Update changes")}},dependencies:[Y,W,$,J,X,z,U,Z,G,O,R,ae,P,ee,re,ie,ne,oe,te,V,ue,le,ce,me,pe,de,q,Q,j,A,B,K,ve,ge,ye],encapsulation:2});var Ce=f;export{Ce as KnitFtyComponent};
